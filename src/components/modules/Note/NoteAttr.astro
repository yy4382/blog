---
import type { PageMeta } from "@libs/notion-client";
import { Icon } from "astro-icon/components";
import { DateTime } from "luxon";
import { TooltipTime } from "@comp/ui/Tooltip";

type Props = { page: PageMeta; class?: string };

const { page, class: className } = Astro.props;
---

<div class:list={["flex items-center gap-5", className]}>
  <div class="flex select-none items-center gap-2">
    <div class="flex size-8 rounded-md bg-primary/30 p-1 center">
      <Icon name="mingcute:calendar-line" class="size-full text-primary" />
    </div>
    <TooltipTime
      postTime={DateTime.fromISO(page.createdAt).toFormat("yyyy-MM-dd")}
      updatedTime={DateTime.fromISO(page.updatedAt).toFormat("yyyy-MM-dd")}
      client:load
    >
      <span class="text-base font-semibold text-comment">
        {DateTime.fromISO(page.createdAt).toFormat("MM-dd")}
      </span>
    </TooltipTime>
  </div>
  <div class="flex select-none items-center gap-2">
    <div class="flex size-8 rounded-md bg-primary/30 p-1 center">
      <Icon name="mingcute:hashtag-line" class="size-full text-primary" />
    </div>

    <span class="flex gap-0.5 text-base font-semibold text-comment">
      {
        page.tags.map((tag, index) => (
          <>
            {index !== 0 && <span>|</span>}
            <span>{tag}</span>
          </>
        ))
      }
    </span>
  </div>
</div>
